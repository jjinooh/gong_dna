<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>공무원 DNA 테스트</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f2f2f2;
      text-align: center;
      padding: 30px;
    }
    .container {
      max-width: 500px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      margin-bottom: 15px;
    }
    button {
      padding: 12px 24px;
      margin: 8px;
      font-size: 16px;
      border: none;
      border-radius: 12px;
      background: #5a8dee;
      color: white;
      cursor: pointer;
    }
    .question {
      display: none;
    }
    .comment {
      font-size: 14px;
      margin-top: 15px;
      color: #888;
    }
  </style>
</head>
<body>

  <div class="container" id="userinfo">
    <h2>공직 경력 체크</h2>
    <p>당신의 공직 연차를 알려주세요!</p>
    <select id="experience">
      <option value="1년 미만">🍼 1년 미만</option>
      <option value="1~3년">🌱 1~3년</option>
      <option value="4~7년">🌳 4~7년</option>
      <option value="8년 이상">🧘 8년 이상</option>
    </select><br><br>
    <button onclick="saveUserInfo()">테스트 시작하기</button>
  </div>

  <div class="container" id="intro" style="display:none">
    <h1>공무원 DNA 테스트 🧬</h1>
    <p>나는 공무원을 계속할 상인가, 그만둘 상인가?</p>
    <p><strong>12가지 문항</strong>에 답해보고 당신의 공직 운명을 진단해보세요.</p>
    <button onclick="startTest()">시작!</button>
    <div class="comment">* 본 테스트는 재미용입니다. 진지하게 받아들이지 마세요 😎</div>
  </div>

  <div id="questions"></div>

  <script>
    let userInfo = {};
    let answers = [];
    let currentQuestion = 0;

    const questions = [
      {
        text: "퇴근 후 당신의 모습은?",
        options: [
          "📚 오늘도 자기계발!",
          "🛏️ 침대와 혼연일체",
          "🍕 넷플릭스+배달앱 콜라보",
          "🤯 회의감에 빠짐"
        ]
      },
      {
        text: "당신이 주로 쓰는 말은?",
        options: [
          "이건 왜 이렇게 비효율적이죠?",
          "결재 드렸습니다.",
          "이게 다 시민을 위한 일이죠.",
          "오늘은 누가 또 터뜨렸나…"
        ]
      },
      "Q3_PLACEHOLDER", // 경력별 분기 질문
      {
        text: "민원 전화를 받을 때 당신은?",
        options: [
          "🙇 네 고객님... 아니 시민님...",
          "🙄 또 이분이시네",
          "🤬 이건 정말 선 넘은 거 아냐?",
          "🤖 감정 OFF, 업무 ON"
        ]
      },
      {
        text: "당신의 결재 스타일은?",
        options: [
          "✔️ 꼼꼼히 읽고 질문도 함",
          "🙃 그냥 올리는 대로 쓱",
          "🧐 잘 모르겠으면 물어본다",
          "😤 이상하면 묵살하고 재검토 요청"
        ]
      },
      {
        text: "칭찬을 받으면?",
        options: [
          "😊 그래도 누군가는 알아봐 주네",
          "🙄 뭐지? 뭔가 시킬 거 같은데",
          "🫣 부끄럽지만 기분 좋음",
          "🤨 칭찬보다 인센이 좋아요"
        ]
      },
      "Q7_PLACEHOLDER",
      {
        text: "회식 소식이 들리면?",
        options: [
          "🎉 오랜만에 사람들과 수다 떨 기회",
          "🤔 누구 오는지 먼저 확인",
          "😩 또 회식…",
          "🙈 몰랐던 척 조용히 집 간다"
        ]
      },
      {
        text: "요즘 일 어때? 라는 친구 질문에 대한 속마음은?",
        options: [
          "😊 보람 있어",
          "😕 말하면 길어",
          "😩 그냥 버티는 중",
          "🙄 또 그 얘기야?"
        ]
      },
      {
        text: "나에게 공무원이란?",
        options: [
          "💼 사회를 지탱하는 책임감 있는 일",
          "💸 안정적이라 선택한 생계형 직업",
          "😶‍🌫️ 의미는 점점 흐려지는 중",
          "🎭 일과 나를 분리한 이중생활"
        ]
      },
      "Q11_PLACEHOLDER",
      {
        text: "요즘 내 퇴사 욕구는?",
        options: [
          "💣 매우 높음 – 퇴사 각",
          "🔥 가끔 욱하지만 참음",
          "🧊 낮음 – 안정 최고",
          "😇 없음 – 나는 공무원이 천직"
        ]
      }
    ];

    const branchQuestions = {
      Q3_PLACEHOLDER: {
        "1년 미만": { text: "요즘 공직생활 어때?", options: ["🙃 아직 적응 중이에요", "🤯 벌써 퇴사각", "🤓 새로 배우는 게 재밌어요"] },
        "1~3년": { text: "요즘 동료들이랑은 어때?", options: ["😌 그냥저냥 무난", "🤬 눈치+정치+피로 그 자체", "🙃 출근만 따로 하고 싶어요"] },
        "4~7년": { text: "요즘 동료들이랑은 어때?", options: ["😌 그냥저냥 무난", "🤬 눈치+정치+피로 그 자체", "🙃 출근만 따로 하고 싶어요"] },
        "8년 이상": { text: "공직생활 8년차, 나는...", options: ["🧘 흐름만 보면 다 보여요", "🤕 후배들 보면 내가 옛날 생각나요", "🔥 조직개혁의 불꽃을 다시 켤까?"] }
      },
      Q7_PLACEHOLDER: {
        "1년 미만": { text: "부서 이동 얘기가 나오면?", options: ["😱 벌써요?!", "🤔 그냥 보내주세요...", "🧭 아직 여긴 어디 나는 누구"] },
        "1~3년": { text: "부서 이동 얘기가 나오면?", options: ["🧳 다른 부서도 가보고 싶긴 함", "😤 누가 나 밀어내는 건가?", "🙃 익숙한 게 좋아요"] },
        "4~7년": { text: "부서 이동 얘기가 나오면?", options: ["🧳 다른 부서도 가보고 싶긴 함", "😤 누가 나 밀어내는 건가?", "🙃 익숙한 게 좋아요"] },
        "8년 이상": { text: "부서 이동 얘기가 나오면?", options: ["🧘 어디든 상관없습니다", "🤖 어차피 다 거기서 거기", "🔁 반복되는 인사이동… 이제 체념"] }
      },
      Q11_PLACEHOLDER: {
        "1년 미만": { text: "공무원 되길 잘했다고 느낄 때는?", options: ["📅 월급일", "🧘 주말에 출근 안 할 때", "🙋 아직은 모르겠어요"] },
        "1~3년": { text: "공무원 되길 잘했다고 느낄 때는?", options: ["🏖️ 연가 쓸 때", "😎 신입들 부러워할 때", "🧾 제도나 절차 잘 이해될 때"] },
        "4~7년": { text: "공무원 되길 잘했다고 느낄 때는?", options: ["🏖️ 연가 쓸 때", "😎 신입들 부러워할 때", "🧾 제도나 절차 잘 이해될 때"] },
        "8년 이상": { text: "공무원 되길 잘했다고 느낄 때는?", options: ["👏 후배들이 내 말에 수긍할 때", "🤓 정책 흐름이 술술 읽힐 때", "💰 정년이 보장될 때"] }
      }
    };

    function saveUserInfo() {
      const exp = document.getElementById('experience').value;
      userInfo = { experience: exp };
      document.getElementById('userinfo').style.display = 'none';
      document.getElementById('intro').style.display = 'block';
    }

    function startTest() {
      document.getElementById('intro').style.display = 'none';
      currentQuestion = 0;
      showNextQuestion();
    }

    function showNextQuestion() {
      const qWrap = document.getElementById('questions');
      qWrap.innerHTML = '';

      if (currentQuestion >= questions.length) {
        alert("테스트 끝! 결과는 다음 단계에서 보여줄게요 😊");
        return;
      }

      let qData = questions[currentQuestion];
      if (typeof qData === 'string' && branchQuestions[qData]) {
        qData = branchQuestions[qData][userInfo.experience];
      }

      const qDiv = document.createElement('div');
      qDiv.className = 'container';

      const qTitle = document.createElement('p');
      qTitle.innerHTML = `<strong>Q${currentQuestion + 1}.</strong> ${qData.text}`;
      qDiv.appendChild(qTitle);

      qData.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.innerText = opt;
        btn.onclick = () => {
          answers.push(opt);
          currentQuestion++;
          showNextQuestion();
        };
        qDiv.appendChild(btn);
      });

      qWrap.appendChild(qDiv);
    }
  </script>

</body>
</html>
