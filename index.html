<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê³µë¬´ì› DNA í…ŒìŠ¤íŠ¸</title>
  <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
  <script>
    Kakao.init('3138aed7cfa6cb0fbdca2b0e71a77461');
  </script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f7f9fc;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      width: 90vw;
      max-width: 420px;
      height: 90vh;
      background: white;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      text-align: center;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .container.show {
      display: flex;
    }
    h1, h2, p {
      margin-bottom: 12px;
    }
    button {
      padding: 10px 20px;
      margin: 6px;
      font-size: 15px;
      border: none;
      border-radius: 10px;
      background: #5a8dee;
      color: white;
      cursor: pointer;
      width: 80%;
    }
    select {
      padding: 8px;
      width: 80%;
      font-size: 14px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .comment {
      font-size: 12px;
      color: #888;
      margin-top: 8px;
    }
    #result img {
      width: 120px;
      margin-bottom: 10px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="container show" id="userinfo">
    <h2>ê³µì§ ê²½ë ¥ ì²´í¬</h2>
    <p>ë‹¹ì‹ ì˜ ê³µì§ ì—°ì°¨ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”!</p>
    <select id="experience">
      <option value="1ë…„ ë¯¸ë§Œ">ğŸ¼ 1ë…„ ë¯¸ë§Œ</option>
      <option value="1~3ë…„">ğŸŒ± 1~3ë…„</option>
      <option value="4~7ë…„">ğŸŒ³ 4~7ë…„</option>
      <option value="8ë…„ ì´ìƒ">ğŸ§˜ 8ë…„ ì´ìƒ</option>
    </select>
    <button onclick="saveUserInfo()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
  </div>
  <div class="container" id="intro">
    <h1>ê³µë¬´ì› DNA í…ŒìŠ¤íŠ¸ ğŸ§¬</h1>
    <p>ë‚˜ëŠ” ê³µë¬´ì›ì„ ê³„ì†í•  ìƒì¸ê°€?</p>
    <button onclick="startTest()">ì‹œì‘!</button>
    <div class="comment">* ë³¸ í…ŒìŠ¤íŠ¸ëŠ” ì¬ë¯¸ìš©ì…ë‹ˆë‹¤ :)</div>
  </div>
  <div id="questions"></div>
  <div class="container" id="result">
    <h2>ğŸ¯ ë‹¹ì‹ ì˜ ê²°ê³¼ëŠ”?</h2>
    <img id="resultImage" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€">
    <p id="resultText"></p>
    <button onclick="copyResult()">ğŸ”— ê²°ê³¼ ë³µì‚¬</button>
    <button onclick="shareKakao()">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
    <button onclick="location.reload()">ğŸ” ë‹¤ì‹œ í•˜ê¸°</button>
    <div class="comment" style="margin-top: 20px; font-size: 13px; color: #999;">
      Made by <strong>JINO</strong><br>
      #ì¶œê·¼ê³ ë¯¼ë§Œ100ë²ˆì§¸ #ë‚´ë©´ë¶„íˆ¬í˜•
    </div>
  </div>
  <script>
let userInfo = {};

const branchQuestions = {
  '1ë…„ ë¯¸ë§Œ': [
    { text: 'ì²˜ìŒ ë§¡ì€ ì—…ë¬´ê°€ ë„ˆë¬´ ì–´ë µë‹¤ë©´?', options: [
      { text: 'ğŸ’ª ë¬´ì¡°ê±´ í•´ë³¸ë‹¤', score: 0 },
      { text: 'ğŸ™‹â€â™€ï¸ ì„ ë°°í•œí…Œ ë°”ë¡œ ë¬»ëŠ”ë‹¤', score: 1 },
      { text: 'ğŸ˜¶ ëˆˆì¹˜ë³´ë‹¤ ëŠ¦ê²Œ ì‹œì‘', score: 2 },
      { text: 'ğŸ˜­ ëª¨ë¥¸ ì²™ ë„˜ê¸°ê³  ì‹¶ë‹¤', score: 3 }
    ]},
    { text: 'ìƒì‚¬ê°€ ê°‘ìê¸° í‡´ê·¼ ì „ ì—…ë¬´ë¥¼ ì¤€ë‹¤ë©´?', options: [
      { text: 'ğŸ˜‡ ë„¤! ë°”ë¡œ í•˜ê² ìŠµë‹ˆë‹¤', score: 0 },
      { text: 'ğŸ˜“ ì†ìœ¼ë¡œëŠ” ìš¸ì§€ë§Œ í•œë‹¤', score: 1 },
      { text: 'ğŸ¤ ë§ì—†ì´ ì§‘ì— ê°„ë‹¤', score: 3 },
      { text: 'ğŸ¤” ëª°ëë˜ ì²™ ìë¦¬ í”¼í•œë‹¤', score: 2 }
    ]},
    { text: 'íšŒì˜ ë„ì¤‘ ì˜ê²¬ì´ í‹€ë¦´ ë•Œ?', options: [
      { text: 'ğŸ˜… ë¯¼ë§í•˜ì§€ë§Œ ì¸ì •', score: 0 },
      { text: 'ğŸ˜ ì¡°ìš©íˆ ì… ë‹¤ë¬¸ë‹¤', score: 2 },
      { text: 'ğŸ˜¬ ë‹¤ë¥¸ ì£¼ì œë¡œ ë„˜ê¸´ë‹¤', score: 3 },
      { text: 'ğŸ¤“ ê·¼ê±°ë¥¼ ë‹¤ì‹œ ì„¤ëª…í•œë‹¤', score: 1 }
    ]},
    { text: 'ì²˜ìŒ ì›”ê¸‰ì„ ë°›ê³  ë“  ìƒê°ì€?', options: [
      { text: 'ğŸ’° ì—´ì‹¬íˆ ë²Œì–´ì•¼ì§€!', score: 0 },
      { text: 'ğŸ¤” ì´ê±¸ë¡œ ìƒí™œì´ ë ê¹Œ?', score: 1 },
      { text: 'ğŸ’¸ ë­”ê°€ í—ˆë¬´í•˜ë‹¤', score: 2 },
      { text: 'ğŸ›ï¸ ë‹¤ ì¼ëŠ”ë° ë‚¨ì€ ê²Œ ì—†ë‹¤', score: 3 }
    ]},
    { text: 'ì²« ê·¼ë¬´í‰ê°€ ê²°ê³¼ë¥¼ ë°›ì•˜ì„ ë•Œ?', options: [
      { text: 'ğŸ“ˆ ë¶€ì¡±í•œ ì ì„ ë°”ë¡œ ê°œì„ í•˜ë ¤ í•¨', score: 0 },
      { text: 'ğŸ˜ ì˜ì™¸ë¡œ ë¬´ë¤ë¤í–ˆë‹¤', score: 1 },
      { text: 'ğŸ˜“ ê¸°ì¤€ì´ ë­”ì§€ ëª¨ë¥´ê² ë‹¤', score: 2 },
      { text: 'ğŸ’¢ ì´ê±´ ë¶€ë‹¹í•˜ë‹¤', score: 3 }
    ]}
  ],
  '1~3ë…„': [
    { text: 'ì„±ê³¼í‰ê°€ ì‹œì¦Œì´ ë‹¤ê°€ì˜¤ë©´?', options: [
      { text: 'ğŸ“ˆ ì§€ë‚œ ì„±ê³¼ ì •ë¦¬í•˜ë©° ì¤€ë¹„', score: 0 },
      { text: 'ğŸ˜µ ë˜ ë­ ì“´ë‹¤ëŠ” ê±°ì•¼?', score: 2 },
      { text: 'ğŸ˜’ ì–´ì°¨í”¼ ê³ ë§Œê³ ë§Œí•˜ì§€', score: 3 },
      { text: 'ğŸ§¾ ìƒì‚¬ì—ê²Œ ë°©í–¥ì„ ë¬»ëŠ”ë‹¤', score: 1 }
    ]},
    { text: 'ë‹¹ì‹ ì˜ ë™ê¸°ì™€ ì—…ë¬´ê´€ê³„ëŠ”?', options: [
      { text: 'ğŸ‘¯ ì„œë¡œ ë„ìš°ë©° ìœˆìœˆ', score: 0 },
      { text: 'ğŸ¤” ê°€ë” ëˆˆì¹˜ ì‹¸ì›€', score: 1 },
      { text: 'ğŸ˜¤ ë¹„êµ ëŒ€ìƒì´ ë˜ì–´ ìŠ¤íŠ¸ë ˆìŠ¤', score: 2 },
      { text: 'ğŸ™… ì„œë¡œ ê±°ë¦¬ ë‘ëŠ” ì¤‘', score: 3 }
    ]},
    { text: 'ì—°ì°¨ ì‚¬ìš©í•  ë•Œ ë‹¹ì‹ ì€?', options: [
      { text: 'ğŸ“… ë¯¸ë¦¬ ê³„íší•´ì„œ ì‹ ì²­', score: 0 },
      { text: 'ğŸ™ƒ ì¼ë‹¨ ì§ˆëŸ¬ë†“ê³  ë³¸ë‹¤', score: 2 },
      { text: 'ğŸ˜µ ëˆˆì¹˜ ë³´ë©° ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ', score: 1 },
      { text: 'ğŸ˜© ì—°ì°¨ ëª» ì“°ê³  í¬ê¸°í•¨', score: 3 }
    ]},
    { text: 'ì‹¤ìˆ˜í–ˆì„ ë•Œ ëŒ€ì²˜ ë°©ì‹ì€?', options: [
      { text: 'ğŸ› ï¸ ë°”ë¡œ ì¸ì •í•˜ê³  ìˆ˜ì •', score: 0 },
      { text: 'ğŸ˜¥ ì¡°ìš©íˆ ì •ë¦¬í•˜ê³  ë„˜ê¹€', score: 1 },
      { text: 'ğŸ˜¨ ë“¤í‚¬ê¹Œë´ ì „ì „ê¸ê¸', score: 2 },
      { text: 'ğŸ™„ ê·¸ëƒ¥ ëª¨ë¥¸ ì²™í•¨', score: 3 }
    ]},
    { text: 'ìƒì‚¬ì™€ ê°ˆë“±ì´ ìƒê¸°ë©´?', options: [
      { text: 'ğŸ—£ï¸ ëŒ€í™”ë¥¼ ì‹œë„í•œë‹¤', score: 0 },
      { text: 'ğŸ˜ ê±°ë¦¬ë¥¼ ë‘ê³  ë³¸ë‹¤', score: 1 },
      { text: 'ğŸ˜  ë‚˜ë„ ì§œì¦ë‚´ê³  íŠ„ë‹¤', score: 3 },
      { text: 'ğŸ¤·â€â™€ï¸ ê·¸ëƒ¥ í¬ê¸°í•œë‹¤', score: 2 }
    ]}
  ],
  '4~7ë…„': [
    { text: 'ìƒˆë¡œìš´ ì •ì±…ì‚¬ì—…ì´ ë–¨ì–´ì§€ë©´?', options: [
      { text: 'ğŸ”¥ ê¸°íšì˜ ë³¸ëŠ¥ì´ ì‚´ì•„ë‚œë‹¤', score: 0 },
      { text: 'ğŸ“‹ ì „ë…„ë„ ì‚¬ë¡€ë¶€í„° ì°¾ëŠ”ë‹¤', score: 1 },
      { text: 'ğŸ˜“ ëˆ„ê°€ ì‹œí‚¨ ê±°ì•¼ ì´ê±°', score: 2 },
      { text: 'ğŸ¤¯ ë‹¤ë¥¸ ë¶€ì„œë‘ ë°”ê¾¸ê³  ì‹¶ë‹¤', score: 3 }
    ]},
    { text: 'ë¯¼ì›ì „í™” 10í†µì§¸ ë°›ì•˜ì„ ë•Œ?', options: [
      { text: 'ğŸ“ ì¹œì ˆí•˜ê²Œ ê³„ì† ì‘ëŒ€', score: 0 },
      { text: 'ğŸ™„ ëˆˆì¹˜ê» ëŠê³  ë©”ëª¨ ë‚¨ê¹€', score: 1 },
      { text: 'ğŸ˜© ì „í™”ê¸° ë©€ë¦¬í•˜ê³  ìˆ¨ìŒ', score: 2 },
      { text: 'ğŸ˜¤ ë¯¼ì›ë³´ë‹¤ ë‚´ê°€ í„°ì§ˆ ë“¯', score: 3 }
    ]},
    { text: 'ì˜ˆì‚° ì‚­ê° ì†Œì‹ì„ ë“¤ì—ˆì„ ë•Œ?', options: [
      { text: 'ğŸ“Š ë°”ë¡œ ëŒ€ì•ˆ ë§ˆë ¨ ì‹œì‘', score: 0 },
      { text: 'ğŸ§¾ ë‹¤ë¥¸ ë¶€ì„œë¶€í„° íƒìƒ‰', score: 1 },
      { text: 'ğŸ¤” ì‘ë…„ ê±° ê·¸ëŒ€ë¡œ ì“´ë‹¤', score: 2 },
      { text: 'ğŸ’¢ ë‚˜ ë§ê³  ëˆ„ê°€ í•´', score: 3 }
    ]},
    { text: 'ë¶€ì„œ ê°„ í˜‘ì—…ì´ í•„ìš”í•  ë•Œ?', options: [
      { text: 'ğŸ¤ ë¨¼ì € ì—°ë½í•´ì„œ ì¡°ìœ¨', score: 0 },
      { text: 'ğŸ“¨ ë©”ì¼ë§Œ ë³´ë‚¸ë‹¤', score: 1 },
      { text: 'ğŸ˜®â€ğŸ’¨ ê·€ì°®ì•„ì„œ ë¯¸ë£¬ë‹¤', score: 2 },
      { text: 'ğŸ™… í˜‘ì—… ë§ê³  ë‚´ ì¼ì´ë‚˜ í•œë‹¤', score: 3 }
    ]},
    { text: 'ì¡°ì§ ê°œí¸ì´ ìˆì„ ë•Œ ë‹¹ì‹ ì€?', options: [
      { text: 'ğŸ§­ ìƒˆ ê¸°íšŒë¼ ìƒê°í•œë‹¤', score: 0 },
      { text: 'ğŸ¤” ì¼ë‹¨ ìƒí™©ì„ ë³¸ë‹¤', score: 1 },
      { text: 'ğŸ˜ ë˜ ì´ì‚¬ ê°€ì•¼ í•´?', score: 2 },
      { text: 'ğŸ˜¤ ê·¸ëƒ¥ ê´€ë‘ê³  ì‹¶ë‹¤', score: 3 }
    ]}
  ],
  '8ë…„ ì´ìƒ': [
    { text: '8ë…„ ì°¨ì— ì ‘ì–´ë“  ì§€ê¸ˆ, ê°€ì¥ í° ê³ ë¯¼ì€?', options: [
      { text: 'ğŸ¯ ì•ìœ¼ë¡œì˜ ì»¤ë¦¬ì–´ ë°©í–¥', score: 0 },
      { text: 'ğŸ˜¥ ë°˜ë³µë˜ëŠ” ì—…ë¬´ì™€ í”¼ë¡œê°', score: 1 },
      { text: 'ğŸ¤¯ ë³€í™” ì—†ëŠ” ì¡°ì§ ë¬¸í™”', score: 2 },
      { text: 'ğŸ›« ì „ì§ì´ë‚˜ í‡´ì‚¬ë¥¼ ê³ ë ¤ ì¤‘', score: 3 }
    ]},
      { text: 'ğŸ“ ì‹¤ë¬´ì ì˜ê²¬ ìˆ˜ë ´', score: 1 },
      { text: 'ğŸ˜¶ ë‚˜ë§Œ ì•ˆ ê±´ë“œë¦¬ë©´ OK', score: 2 },
      { text: 'ğŸ«¥ ê·¸ëƒ¥ ì±…ì„ì§€ê³  ì‹¶ì§€ ì•Šë‹¤', score: 3 }
    ]},
    { text: 'í–‰ì •ê°ì‚¬ ì‹œì¦Œì´ ì˜¤ë©´?', options: [
      { text: 'ğŸ“ ìë£Œë¶€í„° ì •ë¦¬ ì‹œì‘', score: 0 },
      { text: 'ğŸ“ ì‘ë…„ì— ì“´ ê±° êº¼ë‚´ê¸°', score: 1 },
      { text: 'ğŸ˜’ ë˜ ì‹œì‘ì´êµ°', score: 2 },
      { text: 'ğŸ™ˆ ì˜¬í•´ëŠ” ë‚˜ ì•„ë‹ˆê¸¸', score: 3 }
    ]},
    { text: 'ì—…ë¬´ ì¤‘ í›„ë°°ì˜ ì‹¤ìˆ˜ë¥¼ ë³´ì•˜ì„ ë•Œ?', options: [
      { text: 'ğŸ«± ë°”ë¡œ ì•Œë ¤ì£¼ê³  ì •ì •', score: 0 },
      { text: 'ğŸ™„ ê·¸ëƒ¥ ë‚´ê°€ ì²˜ë¦¬í•¨', score: 1 },
      { text: 'ğŸ˜  ê´œíˆ ê¸°ë¶„ ë‚˜ì˜ë‹¤', score: 2 },
      { text: 'ğŸ™…â€â™‚ï¸ ìƒì‚¬ì—ê²Œ ì•Œë¦°ë‹¤', score: 3 }
    ]},
    { text: 'ë³¸ì¸ì˜ ê°€ì¹˜ê´€ì€ ì˜ˆì „ê³¼ ë¹„êµí•´?', options: [
      { text: 'ğŸ§˜ ë” ì—¬ìœ ë¡œì›Œì¡Œë‹¤', score: 0 },
      { text: 'ğŸ’¬ ë§ì´ ë§ì¡°ì‹¬í•˜ê²Œ ëë‹¤', score: 1 },
      { text: 'ğŸ¤¯ ì´ìƒê³¼ í˜„ì‹¤ì˜ ê´´ë¦¬ë¥¼ ëŠë‚Œ', score: 2 },
      { text: 'ğŸ˜‘ ê¸°ëŒ€ë¥¼ ì ‘ì—ˆë‹¤', score: 3 }
    ]},
    { text: 'ì¡°ì§ì— ì˜¤ë˜ ìˆì—ˆì„ ë•Œ ì¥ì ì€?', options: [
      { text: 'ğŸ“ˆ ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” í†µì°°', score: 0 },
      { text: 'ğŸ§© ë„¤íŠ¸ì›Œí¬ í™œìš© ëŠ¥ë ¥', score: 1 },
      { text: 'ğŸ™ƒ ì ë‹¹í•œ ë¬´ë˜í•¨', score: 2 },
      { text: 'ğŸ«¤ ì ì‘ì€ í–ˆì§€ë§Œ ì• ì •ì€ ì—†ë‹¤', score: 3 }
    ]}
  ]
};

const baseQuestions = [
  {
    text: "í‡´ê·¼ í›„ ë‹¹ì‹ ì˜ ëª¨ìŠµì€?",
    options: [
      { text: "ğŸ“š ì˜¤ëŠ˜ë„ ìê¸°ê³„ë°œ!", score: 0 },
      { text: "ğŸ›ï¸ ì¹¨ëŒ€ì™€ í˜¼ì—°ì¼ì²´", score: 1 },
      { text: "ğŸ• ë„·í”Œë¦­ìŠ¤+ë°°ë‹¬ì•± ì½œë¼ë³´", score: 1 },
      { text: "ğŸ¤¯ íšŒì˜ê°ì— ë¹ ì§", score: 3 }
    ]
  },
  {
    text: "ë‹¹ì‹ ì´ ì£¼ë¡œ ì“°ëŠ” ë§ì€?",
    options: [
      { text: "ì´ê±´ ì™œ ì´ë ‡ê²Œ ë¹„íš¨ìœ¨ì ì´ì£ ?", score: 1 },
      { text: "ê²°ì¬ ë“œë ¸ìŠµë‹ˆë‹¤.", score: 0 },
      { text: "ì´ê²Œ ë‹¤ ì‹œë¯¼ì„ ìœ„í•œ ì¼ì´ì£ .", score: 0 },
      { text: "ì˜¤ëŠ˜ì€ ëˆ„ê°€ ë˜ í„°ëœ¨ë ¸ë‚˜â€¦", score: 2 }
    ]
  },
  {
    text: "ë‹¹ì‹ ì˜ ì—…ë¬´ ëª°ì… ìŠ¤íƒ€ì¼ì€?",
    options: [
      { text: "ğŸ˜¤ ì¼ë‹¨ ëë‚´ê³  ë‚˜ì¤‘ì— ì‰°ë‹¤", score: 0 },
      { text: "ğŸ§˜ ì¤‘ê°„ì¤‘ê°„ ì‰¬ëŠ” ê²Œ ì¤‘ìš”í•˜ë‹¤", score: 1 },
      { text: "ğŸ¤¹â€â™€ï¸ ëª‡ ê°€ì§€ ì¼ì„ ë™ì‹œì— ì²˜ë¦¬í•œë‹¤", score: 1 },
      { text: "ğŸ™ˆ ë”´ì§“í•˜ë‹¤ ë§ˆê° ì§ì „ ëª°ì•„ì¹œë‹¤", score: 3 }
    ]
  },
  {
    text: "íšŒì˜í•  ë•Œ ë‚˜ëŠ” ì–´ë–¤ ì‚¬ëŒ?",
    options: [
      { text: "ğŸ“£ ì ê·¹ì ìœ¼ë¡œ ì˜ê²¬ì„ ë‚¸ë‹¤", score: 0 },
      { text: "ğŸ“ ë©”ëª¨í•˜ê³  ë“£ëŠ” í¸ì´ë‹¤", score: 1 },
      { text: "ğŸ˜“ ì§ˆë¬¸ ë°›ì„ê¹Œ ë´ ì¡°ë§ˆì¡°ë§ˆ", score: 2 },
      { text: "ğŸ™ƒ ì´ë¯¸ ë© ë•Œë¦¬ëŠ” ì¤‘", score: 3 }
    ]
  },
  {
    text: "ë³´ê³ ì„œë¥¼ ì“¸ ë•Œ ë‚˜ëŠ”?",
    options: [
      { text: "ğŸ§ êµ¬ì¡°ë¶€í„° ì¹˜ë°€í•˜ê²Œ ì§ ë‹¤", score: 0 },
      { text: "ğŸ˜“ ë¹ˆ í™”ë©´ ì•ì—ì„œ ë©â€¦", score: 3 },
      { text: "ğŸ™‹ ì‚¬ë¡€ë¶€í„° ê¸ì–´ì˜¨ë‹¤", score: 1 },
      { text: "ğŸ˜‡ ì„ ë°° ë¬¸ì„œ ë³µë¶™ + ì‚´ì§ ìˆ˜ì •", score: 2 }
    ]
  },
  {
    text: "íšŒì‹ ì†Œì‹ì´ ë“¤ë¦¬ë©´?",
    options: [
      { text: "ğŸ‰ ì˜¤ëœë§Œì— ì‚¬ëŒë“¤ê³¼ ìˆ˜ë‹¤ ë–¨ ê¸°íšŒ", score: 0 },
      { text: "ğŸ¤” ëˆ„êµ¬ ì˜¤ëŠ”ì§€ ë¨¼ì € í™•ì¸", score: 1 },
      { text: "ğŸ˜© ë˜ íšŒì‹â€¦", score: 2 },
      { text: "ğŸ™ˆ ëª°ëë˜ ì²™ ì¡°ìš©íˆ ì§‘ ê°„ë‹¤", score: 3 }
    ]
  },
  {
    text: "\"ìš”ì¦˜ ì¼ ì–´ë•Œ?\"ë¼ëŠ” ì¹œêµ¬ ì§ˆë¬¸ì— ëŒ€í•œ ì†ë§ˆìŒì€?",
    options: [
      { text: "ğŸ˜Š ë³´ëŒ ìˆì–´", score: 0 },
      { text: "ğŸ˜• ë§í•˜ë©´ ê¸¸ì–´", score: 1 },
      { text: "ğŸ˜© ê·¸ëƒ¥ ë²„í‹°ëŠ” ì¤‘", score: 3 },
      { text: "ğŸ™„ ë˜ ê·¸ ì–˜ê¸°ì•¼?", score: 2 }
    ]
  },
  {
    text: "ë‚˜ì—ê²Œ ê³µë¬´ì›ì´ë¼ëŠ” ì¼ì€...",
    options: [
      { text: "ğŸ’¼ ì‚¬íšŒë¥¼ ì§€íƒ±í•˜ëŠ” ì±…ì„ê° ìˆëŠ” ì¼", score: 0 },
      { text: "ğŸ’¸ ì•ˆì •ì ì´ë¼ ì„ íƒí•œ ìƒê³„í˜• ì§ì—…", score: 1 },
      { text: "ğŸ˜¶â€ğŸŒ«ï¸ ì˜ë¯¸ëŠ” ì ì  íë ¤ì§€ëŠ” ì¤‘", score: 2 },
      { text: "ğŸ­ ì¼ê³¼ ë‚˜ë¥¼ ë¶„ë¦¬í•œ ì´ì¤‘ìƒí™œ", score: 3 }
    ]
  },
  {
    text: "ìš”ì¦˜ ë‚´ í‡´ì‚¬ ìš•êµ¬ëŠ”?",
    options: [
      { text: "ğŸ’£ ë§¤ìš° ë†’ìŒ â€“ í‡´ì‚¬ ê°", score: 3 },
      { text: "ğŸ”¥ ê°€ë” ìš±í•˜ì§€ë§Œ ì°¸ìŒ", score: 2 },
      { text: "ğŸ§Š ë‚®ìŒ â€“ ì•ˆì • ìµœê³ ", score: 1 },
      { text: "ğŸ˜‡ ì—†ìŒ â€“ ë‚˜ëŠ” ê³µë¬´ì›ì´ ì²œì§", score: 0 }
    ]
  },
  {
    text: "í‡´ê·¼ 5ë¶„ ì „, ìƒì‚¬ì˜ 'ì ê¹ ë‚˜ ì¢€ ë´' í•œ ë§ˆë””ì— ë‹¹ì‹ ì€?",
    options: [
      { text: "ë„¤! ë°”ë¡œ ê°€ê² ìŠµë‹ˆë‹¤!", score: 0 },
      { text: "ì•„....ë„¤. (ì‹œê³„ íë—) ë¬´ìŠ¨ ì¼ì´ì§€?", score: 1 },
      { text: "í•˜...ë²Œì¨ ë¨¸ë¦¬ê°€ ì§€ëˆê±°ë¦¬ë„¤", score: 2 },
      { text: "ëª» ë“¤ì€ ì²™, ë¹ ë¥´ê²Œ í‡´ê·¼ ë¬¸ ì—´ê³  ë‚˜ê°„ë‹¤", score: 3 }
    ]
  }
];
let answers = [];
let currentQuestion = 0;
let totalScore = 0;
let branchQueue = [];

const resultTypes = [
  { name: 'ì²œì§í˜• ğŸŒŸ', desc: 'ì•ˆì •ê³¼ ë£¨í‹´ì„ ì‚¬ë‘í•˜ëŠ” ì²œì§í˜•! ë‹¹ì‹ ì€ ê³µì§ DNA ê·¸ ìì²´ì…ë‹ˆë‹¤.', condition: a => a <= 5 },
  { name: 'ë‚´ë©´ ë¶„íˆ¬í˜• ğŸŒ€', desc: 'ê²‰ìœ¼ë¡œëŠ” ë©€ì©¡, ì†ì€ ë³µì¡í•œ ê³ ë¯¼ì˜ ì—°ì†. ëŠ˜ ì¶œê·¼ê¸¸ì— ìƒê°ì´ ë§ë‹¤.', condition: a => a <= 10 },
  { name: 'ê°ˆíŒ¡ì§ˆíŒ¡í˜• ğŸ¤¹â€â™€ï¸', desc: 'ì´ì§ê³¼ ì•ˆì • ì‚¬ì´ì—ì„œ ê³ ë¯¼ ì¤‘. ë§¤ì¼ ì¶œê·¼ ì „ í•œìˆ¨ì„ ì‰°ë‹¤ë©´ ë‹¹ì‹ !', condition: a => a <= 15 },
  { name: 'ë²ˆì•„ì›ƒí˜• ğŸ”¥', desc: 'ì´ë¯¸ ë§ˆìŒì€ í‡´ì‚¬ ì¤‘... í˜„ì‹¤ì€ ê³„ì† ê·¼ë¬´ ì¤‘... íœ´ì‹ì´ í•„ìš”í•´ìš”!', condition: a => a <= 20 },
  { name: 'í‡´ì‚¬ê°í˜• ğŸ’£', desc: 'ì§€ê¸ˆ ì•ˆ ê·¸ë§Œë‘ë©´ ë³‘ë‚  ê²ƒ ê°™ë‹¤ë©´? ì´ í…ŒìŠ¤íŠ¸ ëë‚˜ê³  ë°”ë¡œ ëª…ìƒ ã„±', condition: a => a <= 25 }
];

const imageMap = {
  'ê°ˆíŒ¡ì§ˆíŒ¡í˜• ğŸ¤¹â€â™€ï¸': 'https://raw.githubusercontent.com/jjinooh/gongmoo-dna-assets/refs/heads/main/PENUP_20250802_063752.png',
  'í‡´ì‚¬ê°í˜• ğŸ’£': 'https://raw.githubusercontent.com/jjinooh/gongmoo-dna-assets/refs/heads/main/PENUP_20250802_064207.png',
  'ì²œì§í˜• ğŸŒŸ': 'https://raw.githubusercontent.com/jjinooh/gongmoo-dna-assets/refs/heads/main/PENUP_20250802_070019%20(1).png',
  'ë²ˆì•„ì›ƒí˜• ğŸ”¥': 'https://raw.githubusercontent.com/jjinooh/gongmoo-dna-assets/refs/heads/main/PENUP_20250802_070136.png',
  'ë‚´ë©´ ë¶„íˆ¬í˜• ğŸŒ€': 'https://raw.githubusercontent.com/jjinooh/gongmoo-dna-assets/refs/heads/main/file_000000003ab861f9b0555ad3a325e417.png'
};

function saveUserInfo() {
  const exp = document.getElementById('experience').value;
  userInfo = { experience: exp };
  branchQueue = [...(branchQuestions?.[exp] || [])];
  document.getElementById('userinfo').classList.remove('show');
  document.getElementById('intro').classList.add('show');
}

function startTest() {
  document.getElementById('intro').classList.remove('show');
  currentQuestion = 0;
  answers = [];
  totalScore = 0;
  showNextQuestion();
}

function showNextQuestion() {
  const qWrap = document.getElementById('questions');
  qWrap.innerHTML = '';

  if (currentQuestion >= baseQuestions.length) {
    showResult();
    return;
  }

  let qData = baseQuestions[currentQuestion];
  if (qData.branch) {
    if (branchQueue.length > 0) {
      qData = branchQueue.shift();
    } else {
      currentQuestion++;
      showNextQuestion();
      return;
    }
  }

  const qDiv = document.createElement('div');
  qDiv.className = 'container show';
  const qTitle = document.createElement('p');
  qTitle.innerHTML = `<strong>Q${currentQuestion + 1}.</strong> ${qData.text}`;
  qDiv.appendChild(qTitle);

  qData.options.forEach(option => {
    const btn = document.createElement('button');
    btn.innerText = option.text;
    btn.onclick = () => {
      answers.push(option.text);
      totalScore += option.score;
      currentQuestion++;
      qDiv.remove();
      showNextQuestion();
    };
    qDiv.appendChild(btn);
  });

  qWrap.appendChild(qDiv);
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function showResult() {
  document.getElementById('questions').innerHTML = '';
  document.getElementById('result').classList.add('show');
  const result = resultTypes.find(r => r.condition(totalScore));
  document.getElementById('resultImage').src = imageMap[result.name];
  document.getElementById('resultText').innerHTML = `<strong>${result.name}</strong><br>${result.desc}`;
}

function copyResult() {
  const text = document.getElementById('resultText').innerText;
  const url = window.location.href;
  navigator.clipboard.writeText(`${text}

ë‚˜ë„ ê³µë¬´ì› DNA í…ŒìŠ¤íŠ¸ í•´ë³´ê¸° ğŸ‘‰ ${url}`).then(() => {
    alert('ê²°ê³¼ì™€ í…ŒìŠ¤íŠ¸ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆì–´ìš”! ë¶™ì—¬ë„£ê¸°ë¡œ ì¹œêµ¬ë“¤ì—ê²Œ ê³µìœ í•´ë³´ì„¸ìš” ğŸ‰');
  });
}

function shareKakao() {
  Kakao.Link.sendDefault({
    objectType: 'feed',
    content: {
      title: 'ë‚˜ëŠ” ê³µë¬´ì›ì„ ê³„ì†í•  ìƒì¸ê°€? ğŸ§¬',
      description: document.getElementById('resultText').innerText,
      imageUrl: document.getElementById('resultImage').src,
      link: {
        mobileWebUrl: window.location.href,
        webUrl: window.location.href
      }
    },
    buttons: [
      {
        title: 'í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°',
        link: {
          mobileWebUrl: window.location.href,
          webUrl: window.location.href
        }
      }
    ]
  });
}
</script>
</body>
</html>
